<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MentorJi Interactive Periodic Table</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4a50c5;
            --secondary-color: #7276e7;
            --accent-color: #f2b138;
            --text-color: #333;
            --background-color: #f9f9f9;
            --card-bg: #ffffff;
            --transition-speed: 0.3s;
            
            /* Element category colors */
            --alkali-metal: #ff8b8b;
            --alkaline-earth: #ffc38b;
            --transition-metal: #f9f871;
            --post-transition: #a0ced9;
            --metalloid: #adf7b6;
            --nonmetal: #c5a3ff;
            --noble-gas: #ffabf1;
            --lanthanide: #ffcbc2;
            --actinide: #baffff;
            --unknown: #e7e7e7;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        header {
            background-color: var(--primary-color);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo img {
            height: 50px;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 20px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition-speed);
            padding: 5px 10px;
            border-radius: 4px;
        }

        nav ul li a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .controls-section {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .control-group {
            flex: 1;
            min-width: 200px;
        }

        .control-group h3 {
            font-size: 16px;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        select, input[type="range"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
        }

        .toggle-switch {
            display: flex;
            align-items: center;
            margin-top: 8px;
        }

        .toggle-switch label {
            margin-left: 10px;
            font-size: 14px;
        }

        .toggle-btn {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-btn input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--primary-color);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .search-bar {
            display: flex;
            margin-bottom: 20px;
        }

        .search-bar input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 4px 0 0 4px;
            font-size: 16px;
        }

        .search-bar button {
            padding: 10px 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            transition: var(--transition-speed);
        }

        .search-bar button:hover {
            background-color: var(--secondary-color);
        }

        .periodic-table {
            display: grid;
            grid-template-columns: repeat(18, 1fr);
            grid-gap: 3px;
            margin-bottom: 30px;
        }

        .element {
            position: relative;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: var(--card-bg);
        }

        .element:hover {
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .element-number {
            position: absolute;
            top: 4px;
            left: 4px;
            font-size: 10px;
            color: #777;
        }

        .element-symbol {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin-top: 10px;
        }

        .element-name {
            font-size: 10px;
            text-align: center;
            margin-top: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .element-mass {
            font-size: 9px;
            text-align: center;
            margin-top: 3px;
            color: #666;
        }

        .placeholder {
            grid-column: span 1;
            visibility: hidden;
        }

        .lanthanide-row, .actinide-row {
            grid-column: span 18;
            display: grid;
            grid-template-columns: repeat(15, 1fr);
            grid-gap: 3px;
            margin-top: 20px;
        }

        .lanthanide-row::before, .actinide-row::before {
            content: '';
            grid-column: span 3;
        }

        .empty-cell {
            visibility: hidden;
        }

        .category-legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 10px;
            margin: 20px 0;
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 14px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 8px;
            border-radius: 4px;
        }

        .color-bar {
            height: 20px;
            width: 100%;
            background: linear-gradient(to right, #3333ff, #33ff33, #ffff33, #ff3333);
            margin: 10px 0;
            border-radius: 4px;
            position: relative;
        }

        .color-bar-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #666;
        }

        .detail-view {
            display: none;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .element-image-container {
            text-align: center;
        }

        .element-image {
            width: 100%;
            max-width: 300px;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .element-details h2 {
            font-size: 32px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }

        .element-details h2 span {
            color: #777;
            font-size: 20px;
            margin-left: 10px;
        }

        .element-properties {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .property-card {
            border: 1px solid #eee;
            border-radius: 6px;
            padding: 15px;
            background-color: #fafafa;
        }

        .property-card h3 {
            font-size: 16px;
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .property-list {
            list-style-type: none;
        }

        .property-list li {
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }

        .property-name {
            font-weight: 500;
        }

        .property-value {
            color: #666;
        }

        .visualization-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border: 1px solid transparent;
            border-bottom: none;
            border-radius: 4px 4px 0 0;
            background-color: #f5f5f5;
            margin-right: 5px;
            transition: var(--transition-speed);
        }

        .tab.active {
            background-color: white;
            border-color: #ddd;
            color: var(--primary-color);
            font-weight: 500;
        }

        .tab-content {
            display: none;
            padding: 20px;
            background-color: white;
            border: 1px solid #ddd;
            border-top: none;
            border-radius: 0 0 4px 4px;
        }

        .tab-content.active {
            display: block;
        }

        #bohr-model-container, #structure-container {
            display: flex;
            justify-content: center;
            height: 400px;
        }

        .close-detail {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: var(--transition-speed);
            margin-top: 20px;
        }

        .close-detail:hover {
            background-color: var(--secondary-color);
        }

        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
        }

        footer a {
            color: white;
            text-decoration: underline;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading i {
            font-size: 30px;
            color: var(--primary-color);
            animation: spin 1s infinite linear;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .periodic-table {
                grid-template-columns: repeat(18, 1fr);
                font-size: 90%;
            }
            
            .element {
                padding: 6px;
            }
            
            .element-symbol {
                font-size: 16px;
            }
            
            .element-name, .element-mass {
                font-size: 8px;
            }
        }

        @media (max-width: 992px) {
            .detail-view {
                grid-template-columns: 1fr;
            }
            
            .element-image-container {
                margin-bottom: 20px;
            }
        }

        @media (max-width: 768px) {
            nav ul {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
                color: white;
                font-size: 24px;
                cursor: pointer;
            }
            
            .periodic-table {
                grid-template-columns: repeat(9, 1fr);
                overflow-x: auto;
            }
            
            .controls-section {
                flex-direction: column;
            }
        }

        /* Bohr Model Styling */
        .bohr-model {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .nucleus {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 0 15px rgba(74, 80, 197, 0.5);
            z-index: 10;
        }

        .shell {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 1px dashed rgba(0, 0, 0, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .electron {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--accent-color);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 5px var(--accent-color);
        }

        /* 3D Structure Styling */
        .structure-3d {
            width: 100%;
            height: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        /* Category coloring for elements */
        .alkali-metal { background-color: var(--alkali-metal); }
        .alkaline-earth { background-color: var(--alkaline-earth); }
        .transition-metal { background-color: var(--transition-metal); }
        .post-transition { background-color: var(--post-transition); }
        .metalloid { background-color: var(--metalloid); }
        .nonmetal { background-color: var(--nonmetal); }
        .noble-gas { background-color: var(--noble-gas); }
        .lanthanide { background-color: var(--lanthanide); }
        .actinide { background-color: var(--actinide); }
        .unknown { background-color: var(--unknown); }

        /* Modal for element details */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }

        .modal-content {
            background-color: white;
            margin: 40px;
            max-width: 1000px;
            width: 90%;
            border-radius: 8px;
            padding: 20px;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            color: #666;
            cursor: pointer;
            transition: var(--transition-speed);
        }

        .close-modal:hover {
            color: var(--primary-color);
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="https://www.mentorji.live/store/1/dark-170w-50h.png" alt="MentorJi Logo">
        </div>
        <nav>
            <ul>
                <li><a href="#" class="active">Periodic Table</a></li>
                <li><a href="#">Elements</a></li>
                <li><a href="#">Element Properties</a></li>
                <li><a href="#">About</a></li>
            </ul>
            <div class="mobile-menu-btn" style="display: none;">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <div class="container">
        <h1>Interactive Periodic Table</h1>
        
        <div class="controls-section">
            <div class="control-group">
                <h3>Display Properties</h3>
                <select id="property-select">
                    <option value="atomic-weight">Atomic Weight</option>
                    <option value="electronegativity">Electronegativity</option>
                    <option value="ionization-energy">Ionization Energy</option>
                    <option value="atomic-radius">Atomic Radius</option>
                    <option value="electron-affinity">Electron Affinity</option>
                    <option value="melting-point">Melting Point</option>
                    <option value="boiling-point">Boiling Point</option>
                    <option value="density">Density</option>
                </select>
            </div>
            
            <div class="control-group">
                <h3>Color Scheme</h3>
                <select id="color-scheme">
                    <option value="category">Element Category</option>
                    <option value="heat-viridis">Heat Map (Viridis)</option>
                    <option value="heat-plasma">Heat Map (Plasma)</option>
                    <option value="heat-inferno">Heat Map (Inferno)</option>
                    <option value="heat-magma">Heat Map (Magma)</option>
                    <option value="heat-rainbow">Heat Map (Rainbow)</option>
                </select>
            </div>
            
            <div class="control-group">
                <h3>Visualization Options</h3>
                <div class="toggle-switch">
                    <label class="toggle-btn">
                        <input type="checkbox" id="show-names" checked>
                        <span class="toggle-slider"></span>
                    </label>
                    <label for="show-names">Show Element Names</label>
                </div>
                
                <div class="toggle-switch">
                    <label class="toggle-btn">
                        <input type="checkbox" id="show-atomic-mass" checked>
                        <span class="toggle-slider"></span>
                    </label>
                    <label for="show-atomic-mass">Show Atomic Mass</label>
                </div>
                
                <div class="toggle-switch">
                    <label class="toggle-btn">
                        <input type="checkbox" id="show-electron-config">
                        <span class="toggle-slider"></span>
                    </label>
                    <label for="show-electron-config">Show Electron Configuration</label>
                </div>
            </div>
        </div>
        
        <div class="search-bar">
            <input type="text" id="search-input" placeholder="Search elements by name, symbol, or atomic number...">
            <button id="search-btn"><i class="fas fa-search"></i></button>
        </div>
        
        <div class="color-bar-container">
            <div id="color-bar-value">
                <div class="color-bar"></div>
                <div class="color-bar-labels">
                    <span id="min-value">Min</span>
                    <span id="max-value">Max</span>
                </div>
            </div>
        </div>
        
        <div class="category-legend">
            <div class="legend-item">
                <div class="legend-color alkali-metal"></div>
                <span>Alkali Metal</span>
            </div>
            <div class="legend-item">
                <div class="legend-color alkaline-earth"></div>
                <span>Alkaline Earth Metal</span>
            </div>
            <div class="legend-item">
                <div class="legend-color transition-metal"></div>
                <span>Transition Metal</span>
            </div>
            <div class="legend-item">
                <div class="legend-color post-transition"></div>
                <span>Post-Transition Metal</span>
            </div>
            <div class="legend-item">
                <div class="legend-color metalloid"></div>
                <span>Metalloid</span>
            </div>
            <div class="legend-item">
                <div class="legend-color nonmetal"></div>
                <span>Nonmetal</span>
            </div>
            <div class="legend-item">
                <div class="legend-color noble-gas"></div>
                <span>Noble Gas</span>
            </div>
            <div class="legend-item">
                <div class="legend-color lanthanide"></div>
                <span>Lanthanide</span>
            </div>
            <div class="legend-item">
                <div class="legend-color actinide"></div>
                <span>Actinide</span>
            </div>
            <div class="legend-item">
                <div class="legend-color unknown"></div>
                <span>Unknown</span>
            </div>
        </div>
        
        <div class="loading">
            <i class="fas fa-spinner"></i>
            <p>Loading elements data...</p>
        </div>
        
        <div class="periodic-table" id="periodic-table">
            <!-- Periodic table will be generated by JavaScript -->
        </div>
        
        <div class="lanthanide-row" id="lanthanide-row">
            <!-- Lanthanides will be generated by JavaScript -->
        </div>
        
        <div class="actinide-row" id="actinide-row">
            <!-- Actinides will be generated by JavaScript -->
        </div>
    </div>

    <!-- Modal for Element Details -->
    <div class="modal" id="element-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="element-details-container">
                <div class="element-header">
                    <h2 id="modal-element-name">Element Name <span id="modal-element-number"></span></h2>
                    <p id="modal-element-description"></p>
                </div>
                
                <div class="visualization-tabs">
                    <div class="tab active" data-tab="general-info">General Information</div>
                    <div class="tab" data-tab="bohr-model">Bohr Model</div>
                    <div class="tab" data-tab="structure">Crystal Structure</div>
                    <div class="tab" data-tab="electron-config">Electron Configuration</div>
                </div>
                
                <div class="tab-content active" id="general-info">
                    <div class="element-properties">
                        <div class="property-card">
                            <h3>Basic Properties</h3>
                            <ul class="property-list" id="basic-properties">
                                <!-- Basic properties will be added by JavaScript -->
                            </ul>
                        </div>
                        
                        <div class="property-card">
                            <h3>Physical Properties</h3>
                            <ul class="property-list" id="physical-properties">
                                <!-- Physical properties will be added by JavaScript -->
                            </ul>
                        </div>
                        
                        <div class="property-card">
                            <h3>Atomic Properties</h3>
                            <ul class="property-list" id="atomic-properties">
                                <!-- Atomic properties will be added by JavaScript -->
                            </ul>
                        </div>
                        
                        <div class="property-card">
                            <h3>Historical Information</h3>
                            <ul class="property-list" id="historical-info">
                                <!-- Historical information will be added by JavaScript -->
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="bohr-model">
                    <div id="bohr-model-container">
                        <div class="bohr-model" id="bohr-model-viz">
                            <!-- Bohr model will be generated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="structure">
                    <div id="structure-container">
                        <div class="structure-3d" id="structure-viz">
                            <!-- 3D structure will be generated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="electron-config">
                    <div class="property-card">
                        <h3>Electron Configuration</h3>
                        <p id="electron-config-full"></p>
                        <h3>Orbital Filling Diagram</h3>
                        <div id="orbital-filling-diagram"></div>
                        <h3>Valence Electrons</h3>
                        <p id="valence-electrons"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 MentorJi Interactive Periodic Table | Created for Educational Purposes</p>
        <p><a href="#">Terms of Use</a> | <a href="#">Privacy Policy</a> | <a href="#">About</a></p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Element data with detailed properties
        const elements = [
            {
                number: 1,
                symbol: "H",
                name: "Hydrogen",
                atomicMass: 1.00794,
                category: "nonmetal",
                group: 1,
                period: 1,
                block: "s",
                electronConfiguration: "1s¹",
                electronegativity: 2.20,
                atomicRadius: 38,
                ionizationEnergy: 13.598,
                electronAffinity: 0.754,
                oxidationStates: "-1, 1",
                standardState: "gas",
                bondingType: "covalent",
                meltingPoint: 14.01,
                boilingPoint: 20.28,
                density: 0.00008988,
                yearDiscovered: 1766,
                discoveredBy: "Henry Cavendish",
                description: "Hydrogen is the chemical element with atomic number 1. With a standard atomic weight of 1.008, hydrogen is the lightest element in the periodic table. Hydrogen is the most abundant chemical substance in the universe, constituting roughly 75% of all normal matter."
            },
            {
                number: 2,
                symbol: "He",
                name: "Helium",
                atomicMass: 4.002602,
                category: "noble-gas",
                group: 18,
                period: 1,
                block: "s",
                electronConfiguration: "1s²",
                electronegativity: null,
                atomicRadius: 32,
                ionizationEnergy: 24.587,
                electronAffinity: -0.52,
                oxidationStates: "0",
                standardState: "gas",
                bondingType: "atomic",
                meltingPoint: 0.95,
                boilingPoint: 4.22,
                density: 0.0001785,
                yearDiscovered: 1868,
                discoveredBy: "Pierre Janssen, Norman Lockyer",
                description: "Helium is a chemical element with symbol He and atomic number 2. It is a colorless, odorless, tasteless, non-toxic, inert, monatomic gas, the first in the noble gas group in the periodic table. Its boiling point is the lowest among all the elements."
            },
            // Add more elements as needed to demonstrate functionality
            {
                number: 3,
                symbol: "Li",
                name: "Lithium",
                atomicMass: 6.941,
                category: "alkali-metal",
                group: 1,
                period: 2,
                block: "s",
                electronConfiguration: "[He]2s¹",
                electronegativity: 0.98,
                atomicRadius: 152,
                ionizationEnergy: 5.392,
                electronAffinity: 0.618,
                oxidationStates: "1",
                standardState: "solid",
                bondingType: "metallic",
                meltingPoint: 453.69,
                boilingPoint: 1615,
                density: 0.534,
                yearDiscovered: 1817,
                discoveredBy: "Johan August Arfwedson",
                description: "Lithium is a chemical element with the symbol Li and atomic number 3. It is a soft, silvery-white alkali metal. Under standard conditions, it is the lightest metal and the lightest solid element. Like all alkali metals, lithium is highly reactive and flammable, and must be stored in mineral oil."
            },
            {
                number: 8,
                symbol: "O",
                name: "Oxygen",
                atomicMass: 15.9994,
                category: "nonmetal",
                group: 16,
                period: 2,
                block: "p",
                electronConfiguration: "[He]2s²2p⁴",
                electronegativity: 3.44,
                atomicRadius: 48,
                ionizationEnergy: 13.618,
                electronAffinity: 1.461,
                oxidationStates: "-2, -1, 1, 2",
                standardState: "gas",
                bondingType: "covalent",
                meltingPoint: 54.36,
                boilingPoint: 90.20,
                density: 0.001429,
                yearDiscovered: 1774,
                discoveredBy: "Carl Wilhelm Scheele",
                description: "Oxygen is a chemical element with symbol O and atomic number 8. It is a member of the chalcogen group on the periodic table, a highly reactive nonmetal, and an oxidizing agent that readily forms oxides with most elements as well as with other compounds."
            }
            // In a real implementation, you would include all 118 elements with complete data
        ];

        // DOM Elements
        const periodicTable = document.getElementById('periodic-table');
        const lanthanideRow = document.getElementById('lanthanide-row');
        const actinideRow = document.getElementById('actinide-row');
        const searchInput = document.getElementById('search-input');
        const searchBtn = document.getElementById('search-btn');
        const propertySelect = document.getElementById('property-select');
        const colorScheme = document.getElementById('color-scheme');
        const showNames = document.getElementById('show-names');
        const showAtomicMass = document.getElementById('show-atomic-mass');
        const showElectronConfig = document.getElementById('show-electron-config');
        const modal = document.getElementById('element-modal');
        const closeModal = document.querySelector('.close-modal');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');

        // Generate the periodic table based on the elements data
        function generatePeriodicTable() {
            // Clear existing elements
            periodicTable.innerHTML = '';
            lanthanideRow.innerHTML = '';
            actinideRow.innerHTML = '';
            
            const mainTableElements = elements.filter(e => 
                !(e.category === 'lanthanide' || e.category === 'actinide'));
            
            const lanthanides = elements.filter(e => e.category === 'lanthanide');
            const actinides = elements.filter(e => e.category === 'actinide');
            
            // Create placeholders for the main table
            for (let i = 1; i <= 118; i++) {
                const element = elements.find(e => e.number === i);
                
                if (!element) {
                    // Insert placeholder
                    const placeholder = document.createElement('div');
                    placeholder.className = 'placeholder';
                    periodicTable.appendChild(placeholder);
                    continue;
                }
                
                if (element.category === 'lanthanide' || element.category === 'actinide') {
                    continue; // These will be added to their own rows
                }
                
                // Create element tile
                createElementTile(element, periodicTable);
            }
            
            // Create lanthanide row
            lanthanides.forEach(element => {
                createElementTile(element, lanthanideRow);
            });
            
            // Create actinide row
            actinides.forEach(element => {
                createElementTile(element, actinideRow);
            });
            
            // Apply the current color scheme
            applyColorScheme();
        }

        // Create an element tile
        function createElementTile(element, container) {
            const tile = document.createElement('div');
            tile.className = `element ${element.category}`;
            tile.dataset.number = element.number;
            tile.dataset.name = element.name;
            tile.dataset.symbol = element.symbol;
            tile.dataset.category = element.category;
            tile.dataset.atomicMass = element.atomicMass;
            
            tile.innerHTML = `
                <div class="element-number">${element.number}</div>
                <div class="element-symbol">${element.symbol}</div>
                <div class="element-name">${element.name}</div>
                <div class="element-mass">${element.atomicMass}</div>
            `;
            
            // Add event listener to open modal with element details
            tile.addEventListener('click', () => showElementDetails(element));
            
            container.appendChild(tile);
        }

        // Show element details in modal
        function showElementDetails(element) {
            // Set modal title and element number
            document.getElementById('modal-element-name').innerHTML = `${element.name} <span id="modal-element-number">${element.symbol} (${element.number})</span>`;
            document.getElementById('modal-element-description').textContent = element.description;
            
            // Set basic properties
            const basicProps = document.getElementById('basic-properties');
            basicProps.innerHTML = `
                <li><span class="property-name">Atomic Number:</span> <span class="property-value">${element.number}</span></li>
                <li><span class="property-name">Symbol:</span> <span class="property-value">${element.symbol}</span></li>
                <li><span class="property-name">Name:</span> <span class="property-value">${element.name}</span></li>
                <li><span class="property-name">Atomic Mass:</span> <span class="property-value">${element.atomicMass} u</span></li>
                <li><span class="property-name">Category:</span> <span class="property-value">${element.category.replace('-', ' ')}</span></li>
                <li><span class="property-name">Group:</span> <span class="property-value">${element.group || 'N/A'}</span></li>
                <li><span class="property-name">Period:</span> <span class="property-value">${element.period}</span></li>
                <li><span class="property-name">Block:</span> <span class="property-value">${element.block}-block</span></li>
            `;
            
            // Set physical properties
            const physicalProps = document.getElementById('physical-properties');
            physicalProps.innerHTML = `
                <li><span class="property-name">State at STP:</span> <span class="property-value">${element.standardState}</span></li>
                <li><span class="property-name">Melting Point:</span> <span class="property-value">${element.meltingPoint} K</span></li>
                <li><span class="property-name">Boiling Point:</span> <span class="property-value">${element.boilingPoint} K</span></li>
                <li><span class="property-name">Density:</span> <span class="property-value">${element.density} g/cm³</span></li>
                <li><span class="property-name">Bonding Type:</span> <span class="property-value">${element.bondingType}</span></li>
            `;
            
            // Set atomic properties
            const atomicProps = document.getElementById('atomic-properties');
            atomicProps.innerHTML = `
                <li><span class="property-name">Electron Configuration:</span> <span class="property-value">${element.electronConfiguration}</span></li>
                <li><span class="property-name">Electronegativity:</span> <span class="property-value">${element.electronegativity || 'N/A'}</span></li>
                <li><span class="property-name">Atomic Radius:</span> <span class="property-value">${element.atomicRadius} pm</span></li>
                <li><span class="property-name">Ionization Energy:</span> <span class="property-value">${element.ionizationEnergy} eV</span></li>
                <li><span class="property-name">Electron Affinity:</span> <span class="property-value">${element.electronAffinity} eV</span></li>
                <li><span class="property-name">Oxidation States:</span> <span class="property-value">${element.oxidationStates}</span></li>
            `;
            
            // Set historical information
            const historicalInfo = document.getElementById('historical-info');
            historicalInfo.innerHTML = `
                <li><span class="property-name">Year Discovered:</span> <span class="property-value">${element.yearDiscovered}</span></li>
                <li><span class="property-name">Discovered By:</span> <span class="property-value">${element.discoveredBy}</span></li>
            `;
            
            // Set electron configuration details
            document.getElementById('electron-config-full').textContent = element.electronConfiguration;
            
            // Create orbital filling diagram
            createOrbitalFillingDiagram(element);
            
            // Create Bohr model
            createBohrModel(element);
            
            // Show modal
            modal.style.display = 'flex';
        }

        // Create orbital filling diagram for an element
        function createOrbitalFillingDiagram(element) {
            const orbitalDiagram = document.getElementById('orbital-filling-diagram');
            orbitalDiagram.innerHTML = ''; // Clear previous content
            
            // This is a simplified version - in a full implementation you would parse the electron configuration
            // and create a visual representation of the orbital filling
            
            // Extract valence electrons
            const valenceElectrons = document.getElementById('valence-electrons');
            const group = element.group;
            
            if (element.category === 'noble-gas') {
                valenceElectrons.textContent = "As a noble gas, it has a full valence shell with 8 electrons (2 for Helium).";
            } else if (element.category === 'alkali-metal') {
                valenceElectrons.textContent = "1 electron in the outermost shell.";
            } else if (element.category === 'alkaline-earth') {
                valenceElectrons.textContent = "2 electrons in the outermost shell.";
            } else if (group >= 13 && group <= 18) {
                valenceElectrons.textContent = `${group - 10} electrons in the outermost shell.`;
            } else {
                valenceElectrons.textContent = "Transition metals have a complex valence electron structure.";
            }
        }

        // Create Bohr model for an element
        function createBohrModel(element) {
            const bohrContainer = document.getElementById('bohr-model-viz');
            bohrContainer.innerHTML = ''; // Clear previous content
            
            // Add nucleus
            const nucleus = document.createElement('div');
            nucleus.className = 'nucleus';
            nucleus.textContent = element.symbol;
            bohrContainer.appendChild(nucleus);
            
            // Determine number of electrons in each shell
            // This is a simplified model and not scientifically accurate for all elements
            const shells = [];
            
            if (element.number <= 2) {
                shells.push(element.number); // K shell (n=1) can hold up to 2 electrons
            } else if (element.number <= 10) {
                shells.push(2, element.number - 2); // K shell (2), L shell (n=2) can hold up to 8
            } else if (element.number <= 18) {
                shells.push(2, 8, element.number - 10); // K (2), L (8), M shell (n=3)
            } else if (element.number <= 36) {
                shells.push(2, 8, 8, element.number - 18); // K (2), L (8), M (8), N shell (n=4)
            } else if (element.number <= 54) {
                shells.push(2, 8, 18, 8, element.number - 36); // K (2), L (8), M (18), N (8), O shell (n=5)
            } else if (element.number <= 86) {
                shells.push(2, 8, 18, 18, 8, element.number - 54); // K (2), L (8), M (18), N (18), O (8), P shell (n=6)
            } else {
                shells.push(2, 8, 18, 32, 18, 8, element.number - 86); // K (2), L (8), M (18), N (32), O (18), P (8), Q shell (n=7)
            }
            
            // Create shells and electrons
            shells.forEach((electronCount, i) => {
                const shellRadius = 50 + (i + 1) * 40; // Increase radius for each shell
                
                // Create shell circle
                const shellElem = document.createElement('div');
                shellElem.className = 'shell';
                shellElem.style.width = `${shellRadius * 2}px`;
                shellElem.style.height = `${shellRadius * 2}px`;
                bohrContainer.appendChild(shellElem);
                
                // Create electrons in this shell
                for (let j = 0; j < electronCount; j++) {
                    const electron = document.createElement('div');
                    electron.className = 'electron';
                    
                    // Position electrons evenly around the shell
                    const angle = (360 / electronCount) * j;
                    const x = shellRadius * Math.cos(angle * (Math.PI / 180));
                    const y = shellRadius * Math.sin(angle * (Math.PI / 180));
                    
                    electron.style.left = `calc(50% + ${x}px)`;
                    electron.style.top = `calc(50% + ${y}px)`;
                    
                    // Add animation for orbiting electrons
                    electron.style.animation = `orbit${i+1} ${3 + i}s linear infinite`;
                    
                    bohrContainer.appendChild(electron);
                    
                    // Add CSS animation for this shell's orbit
                    if (!document.getElementById(`orbit-style-${i+1}`)) {
                        const style = document.createElement('style');
                        style.id = `orbit-style-${i+1}`;
                        style.textContent = `
                            @keyframes orbit${i+1} {
                                from { transform: rotate(0deg) translateX(${shellRadius}px) rotate(0deg); }
                                to { transform: rotate(360deg) translateX(${shellRadius}px) rotate(-360deg); }
                            }
                        `;
                        document.head.appendChild(style);
                    }
                }
            });
        }

        // Apply the selected color scheme to the periodic table
        function applyColorScheme() {
            const selectedScheme = colorScheme.value;
            const selectedProperty = propertySelect.value;
            
            if (selectedScheme === 'category') {
                // Use the default category colors
                document.querySelectorAll('.element').forEach(el => {
                    const category = el.dataset.category;
                    el.style.backgroundColor = '';
                    el.style.color = '';
                    el.className = `element ${category}`;
                });
            } else {
                // Apply a heat map based on the selected property
                const propertyValues = [];
                
                // Collect all values for the selected property
                document.querySelectorAll('.element').forEach(el => {
                    const elementObj = elements.find(e => e.number === parseInt(el.dataset.number));
                    
                    if (elementObj) {
                        let value = null;
                        
                        switch (selectedProperty) {
                            case 'atomic-weight':
                                value = elementObj.atomicMass;
                                break;
                            case 'electronegativity':
                                value = elementObj.electronegativity;
                                break;
                            case 'ionization-energy':
                                value = elementObj.ionizationEnergy;
                                break;
                            case 'atomic-radius':
                                value = elementObj.atomicRadius;
                                break;
                            case 'electron-affinity':
                                value = elementObj.electronAffinity;
                                break;
                            case 'melting-point':
                                value = elementObj.meltingPoint;
                                break;
                            case 'boiling-point':
                                value = elementObj.boilingPoint;
                                break;
                            case 'density':
                                value = elementObj.density;
                                break;
                        }
                        
                        if (value !== null) {
                            propertyValues.push(value);
                        }
                    }
                });
                
                // Find min and max values
                const minValue = Math.min(...propertyValues.filter(v => v !== null));
                const maxValue = Math.max(...propertyValues.filter(v => v !== null));
                
                // Update color bar labels
                document.getElementById('min-value').textContent = minValue.toFixed(2);
                document.getElementById('max-value').textContent = maxValue.toFixed(2);
                
                // Apply colors based on property values
                document.querySelectorAll('.element').forEach(el => {
                    const elementObj = elements.find(e => e.number === parseInt(el.dataset.number));
                    
                    if (elementObj) {
                        let value = null;
                        
                        switch (selectedProperty) {
                            case 'atomic-weight':
                                value = elementObj.atomicMass;
                                break;
                            case 'electronegativity':
                                value = elementObj.electronegativity;
                                break;
                            case 'ionization-energy':
                                value = elementObj.ionizationEnergy;
                                break;
                            case 'atomic-radius':
                                value = elementObj.atomicRadius;
                                break;
                            case 'electron-affinity':
                                value = elementObj.electronAffinity;
                                break;
                            case 'melting-point':
                                value = elementObj.meltingPoint;
                                break;
                            case 'boiling-point':
                                value = elementObj.boilingPoint;
                                break;
                            case 'density':
                                value = elementObj.density;
                                break;
                        }
                        
                        if (value !== null) {
                            // Calculate normalized value between 0 and 1
                            const normalizedValue = (value - minValue) / (maxValue - minValue);
                            
                            // Apply color based on the selected color scheme
                            let color;
                            
                            switch (selectedScheme) {
                                case 'heat-viridis':
                                    color = getViridisColor(normalizedValue);
                                    break;
                                case 'heat-plasma':
                                    color = getPlasmaColor(normalizedValue);
                                    break;
                                case 'heat-inferno':
                                    color = getInfernoColor(normalizedValue);
                                    break;
                                case 'heat-magma':
                                    color = getMagmaColor(normalizedValue);
                                    break;
                                case 'heat-rainbow':
                                    color = getRainbowColor(normalizedValue);
                                    break;
                                default:
                                    color = getViridisColor(normalizedValue);
                            }
                            
                            el.style.backgroundColor = color;
                            
                            // Set text color to white or black based on background brightness
                            const brightness = getBrightness(color);
                            el.style.color = brightness < 128 ? 'white' : 'black';
                        } else {
                            // If value is null, use a gray color
                            el.style.backgroundColor = '#ccc';
                            el.style.color = 'black';
                        }
                    }
                });
            }
        }

        // Color mapping functions for different color schemes
        function getViridisColor(value) {
            // Simplified Viridis color map (from dark blue to yellow)
            const r = Math.floor(70 + 180 * value * value);
            const g = Math.floor(value * 230);
            const b = Math.floor(180 - 180 * value);
            return `rgb(${r}, ${g}, ${b})`;
        }

        function getPlasmaColor(value) {
            // Simplified Plasma color map (from dark purple to yellow)
            const r = Math.floor(20 + 235 * value);
            const g = Math.floor(value * value * 230);
            const b = Math.floor(120 - 120 * value + 100 * (1 - value) * (1 - value));
            return `rgb(${r}, ${g}, ${b})`;
        }

        function getInfernoColor(value) {
            // Simplified Inferno color map (from black to yellow)
            const r = Math.floor(20 + 235 * value);
            const g = Math.floor(value * value * 200);
            const b = Math.floor(80 - 80 * value + 100 * (1 - value) * (1 - value) * (1 - value));
            return `rgb(${r}, ${g}, ${b})`;
        }

        function getMagmaColor(value) {
            // Simplified Magma color map (from black to light pink)
            const r = Math.floor(20 + 235 * value);
            const g = Math.floor(value * 180);
            const b = Math.floor(value * 210);
            return `rgb(${r}, ${g}, ${b})`;
        }

        function getRainbowColor(value) {
            // Rainbow color map (ROYGBIV)
            const hue = (1 - value) * 240; // Map value to hue (0 = red, 240 = blue)
            return `hsl(${hue}, 100%, 50%)`;
        }

        // Calculate brightness of a color (for determining text color)
        function getBrightness(color) {
            // Extract RGB components
            const rgb = color.match(/\d+/g).map(Number);
            
            // Calculate perceptual brightness
            return (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;
        }

        // Search functionality
        function searchElements() {
            const searchTerm = searchInput.value.toLowerCase();
            
            document.querySelectorAll('.element').forEach(el => {
                const elementNumber = el.dataset.number;
                const elementName = el.dataset.name.toLowerCase();
                const elementSymbol = el.dataset.symbol.toLowerCase();
                
                if (
                    elementName.includes(searchTerm) || 
                    elementSymbol.includes(searchTerm) || 
                    elementNumber.includes(searchTerm)
                ) {
                    el.style.transform = 'scale(1.1)';
                    el.style.zIndex = '10';
                    el.style.boxShadow = '0 0 15px rgba(74, 80, 197, 0.5)';
                    
                    // Scroll element into view
                    el.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else {
                    el.style.transform = '';
                    el.style.zIndex = '';
                    el.style.boxShadow = '';
                }
            });
        }

        // Tab functionality
        function switchTab() {
            const tabId = this.dataset.tab;
            
            // Remove active class from all tabs and contents
            tabs.forEach(tab => tab.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            this.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            // Generate the periodic table
            generatePeriodicTable();
            
            // Add event listeners for controls
            propertySelect.addEventListener('change', applyColorScheme);
            colorScheme.addEventListener('change', applyColorScheme);
            
            showNames.addEventListener('change', () => {
                document.querySelectorAll('.element-name').forEach(el => {
                    el.style.display = showNames.checked ? 'block' : 'none';
                });
            });
            
            showAtomicMass.addEventListener('change', () => {
                document.querySelectorAll('.element-mass').forEach(el => {
                    el.style.display = showAtomicMass.checked ? 'block' : 'none';
                });
            });
            
            searchBtn.addEventListener('click', searchElements);
            searchInput.addEventListener('keyup', event => {
                if (event.key === 'Enter') {
                    searchElements();
                }
            });
            
            // Tab event listeners
            tabs.forEach(tab => {
                tab.addEventListener('click', switchTab);
            });
            
            // Modal close button
            closeModal.addEventListener('click', () => {
                modal.style.display = 'none';
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', event => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });

        // Function to initialize 3D structure visualization (placeholder)
        function initStructureViz(element) {
            const container = document.getElementById('structure-viz');
            
            // Create Three.js scene
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);
            
            // Add lighting
            const ambientLight = new THREE.AmbientLight(0x404040);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
            directionalLight.position.set(1, 1, 1);
            scene.add(directionalLight);
            
            // Position camera
            camera.position.z = 5;
            
            // Create a simple crystal structure (placeholder)
            // In a real implementation, you would use the actual crystal structure data for each element
            
            // Simple cubic structure for demonstration
            const atoms = [];
            const bondMaterial = new THREE.MeshBasicMaterial({ color: 0x888888 });
            
            // Create atoms
            for (let x = -1; x <= 1; x++) {
                for (let y = -1; y <= 1; y++) {
                    for (let z = -1; z <= 1; z++) {
                        const geometry = new THREE.SphereGeometry(0.3, 32, 32);
                        const material = new THREE.MeshPhongMaterial({ color: getAtomColor(element) });
                        const atom = new THREE.Mesh(geometry, material);
                        
                        atom.position.set(x, y, z);
                        scene.add(atom);
                        atoms.push(atom);
                    }
                }
            }
            
            // Create bonds between atoms
            for (let i = 0; i < atoms.length; i++) {
                for (let j = i + 1; j < atoms.length; j++) {
                    const atom1 = atoms[i];
                    const atom2 = atoms[j];
                    
                    // Calculate distance between atoms
                    const distance = atom1.position.distanceTo(atom2.position);
                    
                    // If atoms are close enough, create a bond
                    if (distance < 1.1) {
                        const bondGeometry = new THREE.CylinderGeometry(0.05, 0.05, distance, 8);
                        const bond = new THREE.Mesh(bondGeometry, bondMaterial);
                        
                        // Position and orient the bond
                        const midpoint = new THREE.Vector3().addVectors(atom1.position, atom2.position).multiplyScalar(0.5);
                        bond.position.copy(midpoint);
                        
                        // Orient the bond to connect the atoms
                        bond.lookAt(atom2.position);
                        bond.rotateX(Math.PI / 2);
                        
                        scene.add(bond);
                    }
                }
            }
            
            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                
                // Rotate the entire structure
                scene.rotation.x += 0.005;
                scene.rotation.y += 0.005;
                
                renderer.render(scene, camera);
            }
            
            animate();
            
            // Handle window resizing
            window.addEventListener('resize', () => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            });
        }

        // Helper function to get atom color based on element
        function getAtomColor(element) {
            const category = element.category;
            
            switch (category) {
                case 'alkali-metal':
                    return 0xff8b8b;
                case 'alkaline-earth':
                    return 0xffc38b;
                case 'transition-metal':
                    return 0xf9f871;
                case 'post-transition':
                    return 0xa0ced9;
                case 'metalloid':
                    return 0xadf7b6;
                case 'nonmetal':
                    return 0xc5a3ff;
                case 'noble-gas':
                    return 0xffabf1;
                case 'lanthanide':
                    return 0xffcbc2;
                case 'actinide':
                    return 0xbaffff;
                default:
                    return 0xe7e7e7;
            }
        }
    </script>
</body>
</html>
